规则：
entity_attacks函数负责实现所有具有普适性的主动技能。
该函数返回的第一个参数，为true代表必须跳过entity之后的逻辑，为false代表可继续，为nil代表可跳可不跳。
返回的第二个参数，没有合适的目标时返回A_NO_TARGET，技能已施放时返回A_DONE。其他情况返回nil。

entity_attacks第三个传入参数a的专用键值对：
skill：类型string。代表使用哪一种技能。比如"range_unit"。
vis_bans：类型integer。代表禁止对哪些目标施放技能。如果想禁止对友方单位施放技能，设置为F_FRIEND。如果想禁止对敌我单位施放技能，设置为bor(F_FRIEND, F_ENEMY)。
basic_attack：类型boolean。代表是否为基础攻击。true代表是。
animation：类型string。代表施放技能的动画。
cast_time：类型number。代表技能前摇。
sound：类型string。代表施法时播放的声音。
sound_args：类型table。格式为{delay = 0.1, ...}。代表施法时播放声音的参数。需配合sound使用。
power_name：类型string。代表技能所对应的升级名字。
initial_level：类型number。代表技能的初始等级，在技能升级时使用。需配合power_name使用。仅对shooter生效。
can_be_silenced：类型boolean。代表技能是否可以被沉默。
disabled_if_having_modifiers：类型table。格式为{"xxx", ...}。xxx为modifier的名字。代表entity身上有某些modifier时， 技能被禁用。
melee_break：类型boolean。代表技能是否可在近战时施放。true代表可以。
ranged_break：类型boolean。代表技能是否可在远程攻击时施放。true代表可以。仅对敌方单位生效。
ignore_flip_x：类型boolean。为true时禁止entity施法的精灵图水平翻转。
chance：类型number。代表技能的施放概率。
skill_id：类型string。代表技能的标识。需配合skills_interval，reset_partners_skill或者extra_cooldowns使用。
skills_interval：类型number。代表同一组士兵或射手的，拥有同一个skill_id的技能的施放间隔。比如四级鱼人塔士兵的掷网，当一个士兵掷网后，另一个士兵将间隔1秒后才能掷网。
reset_partners_skill：类型boolean。代表技能施放后，是否重置同一组士兵或射手的，拥有同一个skill_id的技能的冷却。true代表重置。
extra_cooldowns：类型table。格式为{{skill_id = "xxx", extra_cooldown = -1}, ...}。表示技能施放后，增加此entity的带有相同skill_id的技能的冷却。
增加的时间为extra_cooldown所对应的数值，可为负数。
search_type：类型number。代表搜索目标的模式。可选的值如下：
U.search_type = {
	nearest = 1,
	farthest = 2,
	random = 3,
	max_health = 4,
	min_health = 5,
	close_to_exit = 6,-- 最接近终点
	far_from_exit = 7,-- 最远离终点
	find_max_crowd = 8,-- 最密集
	max_initial_health = 9,-- 最大生命值最多
	min_initial_health = 10,-- 最大生命值最少
	custom = 32,-- 自定义
}
crowd_range：类型number。只有search_type为U.search_type.find_max_crowd时有效。需配合min_targets使用。
min_targets：类型integer。只有search_type为U.search_type.find_max_crowd时有效。需配合crowd_range使用。此时搜索条件之一为：
主目标周围crowd_range范围内的目标总数（包含主目标）大于等于min_targets。
sort_func：类型function。只有search_type为U.search_type.custom时有效。排序函数，返回的目标将用sort_func排序。
search_stream：类型number。表示仅从相对于路径的上下游搜索目标。可选的值如下：
U.search_stream = {
	only_upstream = 1,-- 仅上游
	only_downstream = 2,-- 仅下游
}
hit_fx：类型string或table。表示击中特效。
hit_decal：类型string或table。表示击中后的贴图。
miss_fx：类型string或table。表示未击中特效。
miss_decal：类型string或table。表示未击中后的贴图。
table类型用于指定多个特效或贴图。

向某个目标射出投射物的技能range_unit，专用键值对：
bullet：类型string。代表投射物的名字。
bullet_start_offset：类型table。格式{v(1, 1), ...}。代表投射物相对entity的初始位置。
node_prediction：类型number。代表技能的预判时间。通常与投射物的飞行时间一致。
allowed_templates：类型table。格式为{"xxx", ...}。xxx为目标的名字。代表名字在allowed_templates中的目标，才会被施放技能。
excluded_templates：类型table。格式为{"xxx", ...}。xxx为目标的名字。代表名字在excluded_templates中的目标，不会被施放技能。
max_bullets：类型integer。代表单次发射的投射物数量。
same_target：类型boolean。代表单次发射的多个投射物是否瞄准同一个目标。true代表是，false代表尽可能瞄准不同的目标。需配合max_bullets使用。
use_center：类型boolean。代表是否瞄准中间的子路径。true代表是。
animation_prepare：类型string。代表施放技能前的准备动画。
loops：类型integer。代表连续施放技能的次数。
animation_start：类型string。代表开始施放技能的动画。需配合loops使用。
animation_loop：类型string。代表连续施放技能时的动画。需配合loops使用。
animation_end：类型string。代表施放技能结束的动画。需配合loops使用。
shoot_times：类型table。代表连续施法时，单次施法的发射时间。需配合loops使用。比如shoot_times为{0.1, 0.2}，loops为3时，代表连续施法3次，
每次施法，都是在0.1秒后射出第一发投射物，然后在0.2秒后射出第二发投射物。
different_targets：类型boolean。代表连续施法时的单次发射，是否尽可能瞄准不同的目标。true代表是。
target_id：类型integer。代表目标的id。如果这个键值对存在，会忽略所有条件，直接向目标施法。

向施法者附近的路径节点射出投射物的技能range_at_path，专用键值对：
bullet：类型string。代表投射物的名字。
bullet_start_offset：类型table。格式{v(1, 1), ...}。代表投射物相对entity的初始位置。
use_center：类型boolean。代表是否瞄准中间的子路径。true代表是。
min_targets：类型integer。代表探测到的目标数量大于等于min_targets时，才会施放技能。
range_nodes：类型integer。代表探测模式为沿路径探测目标，探测范围为range_nodes个节点，该模式只能用于探测敌方单位。
range：类型number。代表探测模式为根据距离探测目标，探测半径为range，如果设置了range_nodes，此键值对无效。
min_nodes：类型integer。代表施法时相对施法者位置，可选取的最小节点。可为负数，负数时靠近路径起点，正数时靠近路径终点。
max_nodes：类型integer。代表施法时相对施法者位置，可选取的最大节点。可为负数，负数时靠近路径起点，正数时靠近路径终点。
max_bullets：类型integer。代表发射的投射物数量。

在施法者附近添加entity的技能spawner，专用键值对：
min_targets：类型integer。代表探测到的目标数量大于等于min_targets时，才会施放技能。
range_nodes：类型integer。代表探测模式为沿路径探测目标，探测范围为range_nodes个节点，该模式只能用于探测敌方单位。
range：类型number。代表探测模式为根据距离探测目标，探测半径为range，如果设置了range_nodes，此键值对无效。
custom_spawn_points：类型table。格式为{v(1, 1), ...}。代表被召唤的entity相对施法者的出生位置。
max_count：类型integer。代表被召唤的entity的数量。
spawn_delay：类型number。代表召唤entity的间隔时间。
entity_names：类型table。格式为{"xxx", ...}。xxx为被添加的entity的名字。需配合entity_chances使用。
entity_chances：类型table。格式为{0.1, ...}。代表被召唤的entity的出现概率。entity_chances与entity_names的长度相同，且表中所有概率之和为1。
nodes_to_entrance：类型integer。施法者距路径起点小于等于nodes_to_entrance个节点时禁止施法。设置了custom_spawn_points时无效。
nodes_to_exit：类型integer。施法者距路径终点小于等于nodes_to_exit个节点时禁止施法。设置了custom_spawn_points时无效。
min_nodes：类型integer。施法时相对施法者位置，可选取的最小节点。可为负数，负数时靠近路径起点，正数时靠近路径终点。设置了custom_spawn_points时无效。
max_nodes：类型integer。施法时相对施法者位置，可选取的最大节点。可为负数，负数时靠近路径起点，正数时靠近路径终点。设置了custom_spawn_points时无效。
use_center：类型boolean。代表是否选取中间的子路径。true代表是。设置了custom_spawn_points时无效。
random_subpath：类型boolean。代表是否随机选择子路径。true代表是。设置了custom_spawn_points或use_center时无效。

向目标所在位置添加entity的技能object_on_target，专用键值对：
target_id：类型integer。代表目标的id。如果这个键值对存在，会忽略所有条件，直接向目标施法。
entity：类型string。代表被添加的entity的名字。
use_center：类型boolean。代表是否选取中间的子路径。true代表是。
use_caster_position：类型boolean。代表是否选择施法者的位置，来代替目标所在位置。true代表是。
delay：类型number。代表完成施法前摇后，entity出现的延迟时间。

向目标突进的技能jump_target，专用键值对：
damage_radius：类型number。表示伤害的范围。
min_count：类型integer。表示附近有一定数量的敌人才发动技能。
node_limit：类型integer。表示距离防守点小于设定的键值时不会发动技能。
jump_type：类型integer。表示突进类型。可选的值如下：
U.jump_type = {
	parabola = 1,-- 抛物线
	linear = 2,-- 直线
}
g：类型number。表示重力加速度，只有突进类型为parabola时可用。
flight_time：类型number。表示突进的飞行时间。
speed：类型vector。表示速度，若指定速度将会跳过计算速度，直接使用此键值。
loops：类型integer。表示突进次数。
animations：类型table。表示播放的动画，第一个键为施法动画，第二个键为飞行时的动画，第三个键为结束动画。
sounds：类型table。表示播放的声音，第一个键为施法声音，第二个键为飞行时的声音，第三个键为结束时的声音，格式：
sounds_args：类型table。表示播放声音的参数。需配合sounds使用。表内每个镶套表对应的声音同上。
need_back：类型boolean。表示偶数次突进是否往返。
backed_attack：类型boolean。表示往返后是否造成伤害。

spawner组件，专用键值对：
animations：类型table或string。表示按顺序播放的动画表，格式：
{
	"a",-- 动画 1
	{	-- 动画 2，可选table或string，若为string则使精灵 1 播放指定动画，无法播放动画组。
		name = "b",-- 动画名。
		group = 1-- 用于确定播放的动画组。
		--sprite = 1-- 与上面二选一用于确定哪个精灵播放动画。
		times = 1 播放次数，可选，默认为1。
	},
	...-- 可播放多个动画。
}-- 注：不能在中途出现 nil。
animations_times：类型table。表示索引所对应的动画播放次数表，格式：
facing_point：类型vector。表示目标点。用于根据朝目标点的角度确定播放的动画。
ignore_flip_x：类型boolean。表示是否禁止镜像。
sounds：类型table。表示播放索引所对应的动画播放的声音，格式：
sounds_args：类型table。表示播放声音的参数。需配合sounds使用，格式：
{
	{ ... }-- 动画 1 的声音参数。
	{ ... }-- 动画 2 的声音参数。
}